{% extends 'base.html' %}
{% block header %}
    <h1>{% block title %} Orders {% endblock %}</h1>
{% endblock %}
{% block content %}

<table id="browse" class="table">
    <thead>

    <tr>
        <th class="table_cell">    
        <input type="button" class="new" onclick="newOrder()" value="New">
        </th>

        {% for key in orders[0].keys() %}
        <th> {{ key }}</th>
        {% endfor %}
    </tr>
    <tbody>

    {% for item in orders %}

    <tr>
        <td class="table_cell"></td>

        {%for key in item.keys() %}
        <td> {{item[key]}}</td>
        {% endfor %}

        <td class="table_cell">
        <input type="button" class="edit" onclick="updateOrder()" value="Edit">
        <input type="button" class="delete" onclick="deleteOrder()" value="Delete">
        </td>
    </tr>

    {% endfor %}
</table>

<div id="create" style="display: none;"">

    <form id="addOrder" method="post">
        <legend>
        <h2>Add a Order</h2>
        </legend>
        <label>Full Name:</label>
        
        <select id="fname" name="fullName">
            {% for item in customers %}
           <option value= "{{idCustomer}}"> {{item['firstName']}} {{item['lastName']}}</option>
            {% endfor %}
        </select>

        <label>Date:</label>
        <input value="{{ request.form['date'] }}" type="date">
        <label for="orderTotal">Order Total</label>
        <input type="number" name="Order Total"
               placeholder="Order Total"
               value="{{ request.form['orderTotal'] }}"></input>
        <label>Order Type: </label>
        <select id="orderType">
            <option value="{{ request.form['orderType'] }}"> purchase </option>
            <option value="{{ request.form['orderType'] }}"> sale </option>
        </select>
        <input type="button" class="submit" onclick="" value="Submit">
        <input type="button" id="cancel" onclick="cancelOrder()" value="Cancel">
    </form>
</div>

<div id="update" style="display: none;">
    <form id="modifyOrder" methord="post">
        <legend>
            <h2>Modify a Order</h2>
        </legend>
        <label>orderID: 1 </label>
        <label>First Name: Gene</label>
        
        <labe>Last Name: Fram</label>
        
        <label>Date:</label>
        <input value="{{ request.form['date'] }}" type="date">
        <label for="orderTotal">Order Total</label>
        <input type="number" name="Order Total"
               placeholder="Order Total"
               value="{{ request.form['orderTotal'] }}"></input>
        <label>Order Type: </label>
        <select id="orderType">
            <option value="{{ request.form['orderType'] }}"> purchase </option>
            <option value="{{ request.form['orderType'] }}"> sale </option>
        </select>
        <input type="button" class="update" onclick="" value="Update">
        <input type="button" id="cancel" onclick="cancelOrder()" value="Cancel">
    </form>

</div>

<div id="delete" style="display: none;">
    <form id="modifyOrder" methord="post">
        <legend>
            <h2>Delete a Order</h2>
        </legend>
        {# this is a sample, need to adjust for queries at a later date #}
        {# TODO #}
        <p> Are you sure you ant to delete the following order?</p>
        <label>orderID: 1 </label>
        <br>
        <label>First Name: Gene</label>
        <br>
        <labe>Last Name: Fram</label>
        <br>
        <label>Date: 2022-03-18</label>
        <br>
        <label>
        <label>Order Total: 19.68</label>
        <br>
        <label>Order Type: purchase</label>
        <br>
        <input type="button" class="submit" onclick="" value="Submit">
        <input type="button" id="cancel" onclick="cancelOrder()" value="Cancel">
    </form>

</div>
<br>
<input type="button" id="all" onclick="showAll()" value="Show All">

{% endblock %}